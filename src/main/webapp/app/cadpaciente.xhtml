<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pm="http://primefaces.org/mobile"
	xmlns:p="http://primefaces.org/ui">
	<p:outputPanel autoUpdate="true">
	
<pm:field rendered="#{cuideBemMB.paciente.paciente.idpaciente != null}">
<p:outputLabel value="Foto:" for="fotopac"></p:outputLabel>
<p:graphicImage id="fotopac" value="#{cuideBemMB.paciente.photoPaciente}" alt="Foto do paciente não cadastrada" stream="false" cache="true">
</p:graphicImage>
</pm:field>

</p:outputPanel>
<h:form enctype="multipart/form-data" rendered="#{cuideBemMB.paciente.paciente.idpaciente != null}">
<pm:field>
	<p:outputLabel value="Cadastrar foto:" for="cadfotopac"></p:outputLabel>
		<p:fileUpload value="#{cuideBemMB.file}" mode="simple"
			id="cadfotopac" />
</pm:field>
<pm:field>
		<p:commandButton value="Carregar" icon="ui-icon-arrow-u" ajax="false"
			actionListener="#{cuideBemMB.uploadPaciente}" update="fotopac"/>
</pm:field>
</h:form>
<h:form>
<h:inputHidden value="#{cuideBemMB.paciente.paciente.idpaciente}" rendered="#{cuideBemMB.paciente.paciente.idpaciente != null}"/>
<pm:field>
	<p:outputLabel value="Nome:" for="cadnome"></p:outputLabel>
	<p:inputText class="form-control" id="cadnome" name="inputName"
		value="#{cuideBemMB.paciente.paciente.nome}" placeholder="Nome" required="true"></p:inputText>
</pm:field>
<pm:field>
	<p:outputLabel value="Sobrenome:" for="cadsobrenome"></p:outputLabel>
	<p:inputText class="form-control" name="inputSobreN" id="cadsobrenome"
		value="#{cuideBemMB.paciente.paciente.sobrenome}" placeholder="Sobrenome"></p:inputText>
</pm:field>
<pm:field>
	<p:outputLabel value="Gênero:" for="cadgen"></p:outputLabel>
	<p:selectOneRadio widgetVar="selectgen" layout="responsive" id="cadgen"
		required="true" plain="true" columns="1" value="#{cuideBemMB.paciente.paciente.genero}">
		<f:selectItem itemLabel="Masculino" itemValue="1" />
		<f:selectItem itemLabel="Feminino" itemValue="2" />
	</p:selectOneRadio>
</pm:field>
<pm:field>
	<p:outputLabel value="Data de Nascimento:" for="caddn"></p:outputLabel>
	<p:inputText id="caddn" type="date" pattern="dd/mm/yyyy" required="true" value="#{cuideBemMB.paciente.paciente.dtnascimentoStr}"></p:inputText>
	
</pm:field>

<pm:field>
	<p:outputLabel value="Plano de saude:" for="cadpsname"></p:outputLabel>
	<p:inputText id="cadpsname" value="#{cuideBemMB.paciente.paciente.planosaude}"></p:inputText>
</pm:field>
<pm:field>
	<p:outputLabel value="Patologias:" for="cadpato"></p:outputLabel>
	<p:selectManyCheckbox id="cadpato" layout="responsive" columns="1"
		value="#{cuideBemMB.paciente.selected_patologias}">
		<f:selectItems value="#{cuideBemMB.patologias}" var="patologia"
			itemLabel="#{patologia.descricao}" itemValue="#{patologia}" />
	</p:selectManyCheckbox>
</pm:field>
<pm:field>
	<p:outputLabel value="Outro. Qual?" for="cadpatooutro"></p:outputLabel>
	<p:inputText id="cadpatooutro" value="#{cuideBemMB.paciente.outra_patologia}"></p:inputText>
</pm:field>
<pm:field>
	<p:outputLabel value="Paciente principal?" for="cadprincipal"></p:outputLabel>
	<p:selectBooleanCheckbox id="cadprincipal"
		value="#{cuideBemMB.paciente.principal}"></p:selectBooleanCheckbox>
</pm:field>
<pm:field>

<p:button icon="ui-icon-forbidden" iconPos="right" outcome="pm:listpaciente" style="width:100%" value="Voltar"/>
	<p:commandButton style="width:100%" iconPos="right" icon="ui-icon-check" update="@widgetVar(datapaciente)" value="Salvar"
		action="#{cuideBemMB.salvarPaciente}"></p:commandButton>
</pm:field>
</h:form>


</html>